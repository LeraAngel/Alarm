{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport { Appbar, Button, Headline, List } from 'react-native-paper';\nimport { TimePickerModal } from 'react-native-paper-dates';\nimport Moment from 'moment';\nimport Alarm from \"../framework/Alarm\";\nimport Radio from \"../framework/Radio\";\nimport AppDefines from \"../defines/AppDefines\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar CreationScreen = function (_React$Component) {\n  _inherits(CreationScreen, _React$Component);\n\n  var _super = _createSuper(CreationScreen);\n\n  function CreationScreen() {\n    var _this;\n\n    _classCallCheck(this, CreationScreen);\n\n    _this = _super.call(this);\n    _this.state = {\n      time: new Date(),\n      radio: null,\n      timeOpen: false,\n      radioListExpanded: false\n    };\n    _this.radioList = [new Radio({\n      icon: \"sun\",\n      title: \"Спокойная музыка\",\n      uri: \"https://cafe.amgradio.ru/Cafe\"\n    }), new Radio({\n      icon: \"skull\",\n      title: \"Русский рок\",\n      uri: \"https://rock.amgradio.ru/RusRock\"\n    }), new Radio({\n      icon: \"music-note-eighth\",\n      title: \"Зарубежные хиты\",\n      uri: \"https://fresh.amgradio.ru/Fresh\"\n    }), new Radio({\n      icon: \"violin\",\n      title: \"Детская музыка\",\n      uri: \"https://deti.amgradio.ru/Deti\"\n    }), new Radio({\n      icon: \"violin\",\n      title: \"Ремиксы\",\n      uri: \"https://rmx.amgradio.ru/RemixFM\"\n    })];\n    _this.state.radio = _this.radioList[0];\n    return _this;\n  }\n\n  _createClass(CreationScreen, [{\n    key: \"_onAlarmDeclined\",\n    value: function _onAlarmDeclined() {\n      this.props.navigation.goBack();\n    }\n  }, {\n    key: \"_onAlarmConfirmed\",\n    value: function _onAlarmConfirmed() {\n      this.props.navigation.navigate(\"Home\", {\n        newAlarm: Alarm.fromDate({\n          date: this.state.time,\n          radio: this.state.radio\n        })\n      });\n    }\n  }, {\n    key: \"_onPickTimeRequest\",\n    value: function _onPickTimeRequest() {\n      this.state.timeOpen = true;\n      this.setState(this.state);\n    }\n  }, {\n    key: \"_onPickTimeConfirm\",\n    value: function _onPickTimeConfirm(_ref) {\n      var hours = _ref.hours,\n          minutes = _ref.minutes;\n      this.state.time.setHours(hours);\n      this.state.time.setMinutes(minutes);\n\n      this._onPickTimeDismiss();\n    }\n  }, {\n    key: \"_onPickTimeDismiss\",\n    value: function _onPickTimeDismiss() {\n      this.state.timeOpen = false;\n      this.setState(this.state);\n    }\n  }, {\n    key: \"_onPickRadioExpand\",\n    value: function _onPickRadioExpand() {\n      this.state.radioListExpanded = !this.state.radioListExpanded;\n      this.setState(this.state);\n    }\n  }, {\n    key: \"_onPickRadio\",\n    value: function _onPickRadio(_ref2) {\n      var id = _ref2.id;\n      this.state.radio = this.radioList[id];\n\n      this._onPickRadioExpand();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _jsxs(View, {\n        style: {\n          flex: 1,\n          backgroundColor: this.props.theme.colors.background\n        },\n        children: [_jsxs(Appbar.Header, {\n          children: [_jsx(Appbar.Action, {\n            icon: \"arrow-left\",\n            onPress: this._onAlarmDeclined.bind(this)\n          }), _jsx(Appbar.Content, {\n            title: AppDefines.text.titleCreateionScreen\n          }), _jsx(Appbar.Action, {\n            icon: \"check\",\n            onPress: this._onAlarmConfirmed.bind(this)\n          })]\n        }), _jsxs(View, {\n          style: {\n            flex: 1,\n            backgroundColor: this.props.theme.colors.background,\n            flexDirection: 'column',\n            alignItems: 'stretch'\n          },\n          children: [_jsx(Button, {\n            mode: \"text\",\n            color: this.props.theme.colors.text,\n            onPress: this._onPickTimeRequest.bind(this),\n            style: {\n              padding: 25,\n              alignSelf: 'stretch'\n            },\n            labelStyle: {\n              fontSize: 72\n            },\n            children: Moment(this.state.time).format('HH:mm')\n          }), _jsx(Headline, {\n            style: {\n              fontSize: 24,\n              lineHeight: 32,\n              marginTop: 20,\n              marginLeft: 20,\n              textAlign: 'left'\n            },\n            children: AppDefines.text.titleRadioChoose\n          }), _jsx(List.Accordion, {\n            title: this.state.radio.title,\n            expanded: this.state.radioListExpanded,\n            onPress: this._onPickRadioExpand.bind(this),\n            left: function left(props) {\n              return _jsx(List.Icon, _objectSpread(_objectSpread({}, props), {}, {\n                icon: _this2.state.radio.icon\n              }));\n            },\n            children: this.radioList.map(function (radio, i) {\n              return _jsx(List.Item, {\n                title: radio.title,\n                onPress: function onPress() {\n                  _this2._onPickRadio({\n                    id: i\n                  });\n                },\n                left: function left() {\n                  return _jsx(List.Icon, {\n                    icon: radio.icon\n                  });\n                },\n                style: {\n                  marginLeft: 15\n                }\n              }, i);\n            })\n          })]\n        }), _jsx(TimePickerModal, {\n          locale: \"en-US\",\n          visible: this.state.timeOpen,\n          onDismiss: this._onPickTimeDismiss.bind(this),\n          onConfirm: this._onPickTimeConfirm.bind(this),\n          hours: this.state.time.hours,\n          minutes: this.state.time.minutes\n        })]\n      });\n    }\n  }]);\n\n  return CreationScreen;\n}(React.Component);\n\nexport default CreationScreen;","map":{"version":3,"names":["React","Appbar","Button","Headline","List","TimePickerModal","Moment","Alarm","Radio","AppDefines","CreationScreen","state","time","Date","radio","timeOpen","radioListExpanded","radioList","icon","title","uri","props","navigation","goBack","navigate","newAlarm","fromDate","date","setState","hours","minutes","setHours","setMinutes","_onPickTimeDismiss","id","_onPickRadioExpand","flex","backgroundColor","theme","colors","background","_onAlarmDeclined","bind","text","titleCreateionScreen","_onAlarmConfirmed","flexDirection","alignItems","_onPickTimeRequest","padding","alignSelf","fontSize","format","lineHeight","marginTop","marginLeft","textAlign","titleRadioChoose","map","i","_onPickRadio","_onPickTimeConfirm","Component"],"sources":["C:/Users/lera-/StudioProjects/React/task2/screens/CreationScreen.js"],"sourcesContent":["import * as React from 'react';\n\nimport { View } from 'react-native';\n\nimport { Appbar, Button, Headline, List } from 'react-native-paper';\nimport { TimePickerModal } from 'react-native-paper-dates';\n\nimport Moment from 'moment';\n\nimport Alarm from '../framework/Alarm';\nimport Radio from '../framework/Radio';\nimport AppDefines from '../defines/AppDefines';\n\nclass CreationScreen extends React.Component {\n\n    constructor() {\n        super();\n        this.radioList = [\n            new Radio({ icon: \"sun\", title: \"Спокойная музыка\", uri: \"https://cafe.amgradio.ru/Cafe\" }),\n            new Radio({ icon: \"skull\", title: \"Русский рок\", uri: \"https://rock.amgradio.ru/RusRock\" }),\n            new Radio({ icon: \"music-note-eighth\", title: \"Зарубежные хиты\", uri: \"https://fresh.amgradio.ru/Fresh\" }),\n            new Radio({ icon: \"violin\", title: \"Детская музыка\", uri: \"https://deti.amgradio.ru/Deti\" }),\n            new Radio({ icon: \"violin\", title: \"Ремиксы\", uri: \"https://rmx.amgradio.ru/RemixFM\" }),\n\n\n        ];\n        this.state.radio = this.radioList[0];\n    }\n\n    state = {\n        time: new Date(),\n        radio: null,\n        timeOpen: false,\n        radioListExpanded: false,\n    }\n\n    _onAlarmDeclined() {\n        this.props.navigation.goBack();\n    }\n\n    _onAlarmConfirmed() {\n        this.props.navigation.navigate(\"Home\", ({\n            newAlarm: Alarm.fromDate({\n                date: this.state.time,\n                radio: this.state.radio\n            })\n        }));\n    }\n\n    _onPickTimeRequest() {\n        this.state.timeOpen = true;\n        this.setState(this.state);\n    }\n\n    _onPickTimeConfirm({ hours, minutes }) {\n        this.state.time.setHours(hours);\n        this.state.time.setMinutes(minutes);\n        this._onPickTimeDismiss();\n    }\n\n    _onPickTimeDismiss() {\n        this.state.timeOpen = false;\n        this.setState(this.state);\n    }\n\n    _onPickRadioExpand() {\n        this.state.radioListExpanded = !this.state.radioListExpanded;\n        this.setState(this.state);\n    }\n\n    _onPickRadio({ id }) {\n        this.state.radio = this.radioList[id];\n        this._onPickRadioExpand();\n    }\n\n    render() {\n        return (\n            <View style={\n                {\n                    flex: 1,\n                    backgroundColor: this.props.theme.colors.background,\n                }\n            }>\n                <Appbar.Header>\n                    <Appbar.Action icon=\"arrow-left\" onPress={this._onAlarmDeclined.bind(this)} />\n                    <Appbar.Content title={AppDefines.text.titleCreateionScreen} />\n                    <Appbar.Action icon=\"check\" onPress={this._onAlarmConfirmed.bind(this)} />\n                </Appbar.Header>\n                <View style={\n                    {\n                        flex: 1,\n                        backgroundColor: this.props.theme.colors.background,\n                        flexDirection: 'column',\n                        alignItems: 'stretch',\n                    }\n                }>\n                    <Button\n                        mode=\"text\"\n                        color={this.props.theme.colors.text}\n                        onPress={this._onPickTimeRequest.bind(this)}\n                        style={\n                        {\n                            padding: 25,\n                            alignSelf: 'stretch',\n                        }\n                    } labelStyle={\n                        {\n                            fontSize: 72,\n                        }\n                    }>\n                        {Moment(this.state.time).format('HH:mm')}\n                    </Button>\n                    <Headline style={\n                        {\n                            fontSize: 24,\n                            lineHeight: 32,\n                            marginTop: 20,\n                            marginLeft: 20,\n                            textAlign: 'left',\n                        }\n                    }>\n                        {AppDefines.text.titleRadioChoose}\n                    </Headline>\n                    <List.Accordion\n                        title={this.state.radio.title}\n                        expanded={this.state.radioListExpanded}\n                        onPress={this._onPickRadioExpand.bind(this)}\n                        left={props => <List.Icon {...props} icon={this.state.radio.icon} />}\n                    >\n                        {\n                            this.radioList.map(\n                                (radio, i) => (\n                                    <List.Item\n                                        key={i}\n                                        title={radio.title}\n                                        onPress={() => {\n                                            this._onPickRadio({ id: i });\n                                        }}\n                                        left={() => <List.Icon icon={radio.icon} />}\n                                        style={\n                                            {\n                                                marginLeft: 15,\n                                            }\n                                        }\n                                    />\n                                )\n                            )\n                        }\n                    </List.Accordion>\n                </View>\n\n                <TimePickerModal\n                    locale=\"en-US\"\n                    visible={this.state.timeOpen}\n                    onDismiss={this._onPickTimeDismiss.bind(this)}\n                    onConfirm={this._onPickTimeConfirm.bind(this)}\n                    hours={this.state.time.hours}\n                    minutes={this.state.time.minutes}\n                />\n\n            </View>\n        );\n    }\n}\n\nexport default CreationScreen;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}