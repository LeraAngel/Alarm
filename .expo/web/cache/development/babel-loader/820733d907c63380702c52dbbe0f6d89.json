{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Appbar } from 'react-native-paper';\nimport AlarmEntry from \"../components/AlarmEntry\";\nimport AppDefines from \"../defines/AppDefines\";\nimport AlarmManager from \"../framework/AlarmManager\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar HomeScreen = function (_React$Component) {\n  _inherits(HomeScreen, _React$Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen() {\n    var _this;\n\n    _classCallCheck(this, HomeScreen);\n\n    _this = _super.call(this);\n    _this.state = {\n      alarmManager: AlarmManager.instance\n    };\n\n    _this.state.alarmManager.load({\n      onLoadedCb: function onLoadedCb(bResult) {\n        _this.setState(_this.state);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(HomeScreen, [{\n    key: \"_onAddAlarmPressed\",\n    value: function _onAddAlarmPressed() {\n      this.props.navigation.navigate(\"Creation\");\n    }\n  }, {\n    key: \"_onAlarmRemove\",\n    value: function _onAlarmRemove(_ref) {\n      var id = _ref.id;\n      this.state.alarmManager.removeAlarm({\n        id: id\n      });\n      this.setState(this.state);\n    }\n  }, {\n    key: \"_onAlarmStatusChange\",\n    value: function _onAlarmStatusChange(_ref2) {\n      var id = _ref2.id;\n      this.state.alarmManager.save();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.route.params && this.props.route.params.newAlarm != null) {\n        this.state.alarmManager.addAlarm({\n          alarm: this.props.route.params.newAlarm\n        });\n        this.props.route.params.newAlarm = null;\n        this.setState(this.state);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _jsxs(View, {\n        style: {\n          flex: 1,\n          backgroundColor: this.props.theme.colors.background\n        },\n        children: [_jsxs(Appbar.Header, {\n          children: [_jsx(Appbar.Content, {\n            title: AppDefines.text.titleHomeScreen\n          }), _jsx(Appbar.Action, {\n            icon: \"plus\",\n            onPress: this._onAddAlarmPressed.bind(this)\n          })]\n        }), _jsx(ScrollView, {\n          children: this.state.alarmManager.getAlarms().map(function (alarm, i) {\n            return _jsx(AlarmEntry, {\n              id: i,\n              alarm: alarm,\n              theme: _this2.props.theme,\n              onAlarmRemove: _this2._onAlarmRemove.bind(_this2),\n              onAlarmStatusChange: _this2._onAlarmStatusChange.bind(_this2)\n            }, i);\n          })\n        })]\n      });\n    }\n  }]);\n\n  return HomeScreen;\n}(React.Component);\n\nexport default HomeScreen;","map":{"version":3,"names":["React","Appbar","AlarmEntry","AppDefines","AlarmManager","HomeScreen","state","alarmManager","instance","load","onLoadedCb","bResult","setState","props","navigation","navigate","id","removeAlarm","save","route","params","newAlarm","addAlarm","alarm","flex","backgroundColor","theme","colors","background","text","titleHomeScreen","_onAddAlarmPressed","bind","getAlarms","map","i","_onAlarmRemove","_onAlarmStatusChange","Component"],"sources":["C:/Users/lera-/StudioProjects/React/task2/screens/HomeScreen.js"],"sourcesContent":["import * as React from 'react';\nimport { View, ScrollView } from 'react-native';\nimport { Appbar } from 'react-native-paper';\nimport AlarmEntry from '../components/AlarmEntry';\nimport AppDefines from '../defines/AppDefines';\nimport AlarmManager from '../framework/AlarmManager';\n\n\n\nclass HomeScreen extends React.Component {\n\n    constructor() {\n        super();\n\n        this.state.alarmManager.load({\n            onLoadedCb: (bResult) => {\n                this.setState(this.state);\n            }\n        });\n    }\n\n    state = {\n        alarmManager: AlarmManager.instance\n    }\n\n    _onAddAlarmPressed() {\n        this.props.navigation.navigate(\"Creation\");\n    }\n\n    _onAlarmRemove({ id }) {\n        this.state.alarmManager.removeAlarm({ id: id });\n        this.setState(this.state);\n    }\n\n    _onAlarmStatusChange({ id }) {\n        this.state.alarmManager.save();\n    }\n\n    componentDidUpdate() {\n        if (this.props.route.params && this.props.route.params.newAlarm != null) {\n            this.state.alarmManager.addAlarm({ alarm: this.props.route.params.newAlarm });\n            this.props.route.params.newAlarm = null;\n            this.setState(this.state);\n        }\n    }\n\n    render() {\n        return (\n            <View style={\n                {\n                    flex: 1,\n                    backgroundColor: this.props.theme.colors.background,\n                }\n            }>\n                <Appbar.Header>\n                    <Appbar.Content title = {AppDefines.text.titleHomeScreen} />\n                    <Appbar.Action icon = \"plus\" onPress = {this._onAddAlarmPressed.bind(this)} />\n                </Appbar.Header>\n                <ScrollView>\n                    {\n                        this.state.alarmManager.getAlarms().map(\n                            (alarm, i) => (\n                                <AlarmEntry\n                                    key = {i}\n                                    id = {i}\n                                    alarm = {alarm}\n                                    theme = {this.props.theme}\n                                    onAlarmRemove = {this._onAlarmRemove.bind(this)}\n                                    onAlarmStatusChange = {this._onAlarmStatusChange.bind(this)}\n                                />\n                            )\n                        )\n                    }\n                </ScrollView>\n            </View>\n        );\n    }\n}\n\nexport default HomeScreen;\n"],"mappings":";;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;;AAEA,SAASC,MAAT,QAAuB,oBAAvB;AACA,OAAOC,UAAP;AACA,OAAOC,UAAP;AACA,OAAOC,YAAP;;;;IAIMC,U;;;;;EAEF,sBAAc;IAAA;;IAAA;;IACV;IADU,MAUdC,KAVc,GAUN;MACJC,YAAY,EAAEH,YAAY,CAACI;IADvB,CAVM;;IAGV,MAAKF,KAAL,CAAWC,YAAX,CAAwBE,IAAxB,CAA6B;MACzBC,UAAU,EAAE,oBAACC,OAAD,EAAa;QACrB,MAAKC,QAAL,CAAc,MAAKN,KAAnB;MACH;IAHwB,CAA7B;;IAHU;EAQb;;;;WAMD,8BAAqB;MACjB,KAAKO,KAAL,CAAWC,UAAX,CAAsBC,QAAtB,CAA+B,UAA/B;IACH;;;WAED,8BAAuB;MAAA,IAANC,EAAM,QAANA,EAAM;MACnB,KAAKV,KAAL,CAAWC,YAAX,CAAwBU,WAAxB,CAAoC;QAAED,EAAE,EAAEA;MAAN,CAApC;MACA,KAAKJ,QAAL,CAAc,KAAKN,KAAnB;IACH;;;WAED,qCAA6B;MAAA,IAANU,EAAM,SAANA,EAAM;MACzB,KAAKV,KAAL,CAAWC,YAAX,CAAwBW,IAAxB;IACH;;;WAED,8BAAqB;MACjB,IAAI,KAAKL,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,IAA2B,KAAKP,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBC,QAAxB,IAAoC,IAAnE,EAAyE;QACrE,KAAKf,KAAL,CAAWC,YAAX,CAAwBe,QAAxB,CAAiC;UAAEC,KAAK,EAAE,KAAKV,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBC;QAAjC,CAAjC;QACA,KAAKR,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBC,QAAxB,GAAmC,IAAnC;QACA,KAAKT,QAAL,CAAc,KAAKN,KAAnB;MACH;IACJ;;;WAED,kBAAS;MAAA;;MACL,OACI,MAAC,IAAD;QAAM,KAAK,EACP;UACIkB,IAAI,EAAE,CADV;UAEIC,eAAe,EAAE,KAAKZ,KAAL,CAAWa,KAAX,CAAiBC,MAAjB,CAAwBC;QAF7C,CADJ;QAAA,WAMI,MAAC,MAAD,CAAQ,MAAR;UAAA,WACI,KAAC,MAAD,CAAQ,OAAR;YAAgB,KAAK,EAAIzB,UAAU,CAAC0B,IAAX,CAAgBC;UAAzC,EADJ,EAEI,KAAC,MAAD,CAAQ,MAAR;YAAe,IAAI,EAAG,MAAtB;YAA6B,OAAO,EAAI,KAAKC,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B;UAAxC,EAFJ;QAAA,EANJ,EAUI,KAAC,UAAD;UAAA,UAEQ,KAAK1B,KAAL,CAAWC,YAAX,CAAwB0B,SAAxB,GAAoCC,GAApC,CACI,UAACX,KAAD,EAAQY,CAAR;YAAA,OACI,KAAC,UAAD;cAEI,EAAE,EAAIA,CAFV;cAGI,KAAK,EAAIZ,KAHb;cAII,KAAK,EAAI,MAAI,CAACV,KAAL,CAAWa,KAJxB;cAKI,aAAa,EAAI,MAAI,CAACU,cAAL,CAAoBJ,IAApB,CAAyB,MAAzB,CALrB;cAMI,mBAAmB,EAAI,MAAI,CAACK,oBAAL,CAA0BL,IAA1B,CAA+B,MAA/B;YAN3B,GACWG,CADX,CADJ;UAAA,CADJ;QAFR,EAVJ;MAAA,EADJ;IA6BH;;;;EAnEoBnC,KAAK,CAACsC,S;;AAsE/B,eAAejC,UAAf"},"metadata":{},"sourceType":"module"}