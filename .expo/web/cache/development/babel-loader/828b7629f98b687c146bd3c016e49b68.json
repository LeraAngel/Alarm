{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { Audio } from 'expo-av';\n\nvar RadioPlayer = function () {\n  function RadioPlayer() {\n    _classCallCheck(this, RadioPlayer);\n  }\n\n  _createClass(RadioPlayer, [{\n    key: \"play\",\n    value: function play(_ref) {\n      var uri;\n      return _regeneratorRuntime.async(function play$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              uri = _ref.uri;\n              bResult = true;\n              _context.prev = 2;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(this._audio.loadAsync({\n                uri: uri\n              }));\n\n            case 5:\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(this._audio.playAsync());\n\n            case 7:\n              _context.next = 13;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(\"[RadioPlayer] Loading '\" + uri + \"' has failed with \" + _context.t0);\n              bResult = false;\n\n            case 13:\n              return _context.abrupt(\"return\", bResult);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[2, 9]], Promise);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      return _regeneratorRuntime.async(function stop$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(this._audio.unloadAsync());\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"getStatus\",\n    value: function getStatus() {\n      return _regeneratorRuntime.async(function getStatus$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(this._audio.getStatusAsync());\n\n            case 2:\n              return _context3.abrupt(\"return\", _context3.sent);\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }], [{\n    key: \"_createInstance\",\n    value: function _createInstance() {\n      instance = new RadioPlayer();\n      instance._audio = new Audio.Sound();\n      return instance;\n    }\n  }]);\n\n  return RadioPlayer;\n}();\n\nRadioPlayer.instance = RadioPlayer.instance || RadioPlayer._createInstance();\nexport default RadioPlayer;","map":{"version":3,"names":["Audio","RadioPlayer","uri","bResult","_audio","loadAsync","playAsync","console","log","unloadAsync","getStatusAsync","instance","Sound","_createInstance"],"sources":["C:/Users/lera-/StudioProjects/React/task2/framework/RadioPlayer.js"],"sourcesContent":["import { Audio } from 'expo-av';\n\nclass RadioPlayer {\n\n    static _createInstance() {\n        instance = new RadioPlayer()\n        instance._audio = new Audio.Sound();\n\n        return instance;\n    }\n\n    async play({ uri }) {\n        bResult = true;\n\n        try {\n\n            await this._audio.loadAsync(\n                { uri: uri },\n            );\n\n            await this._audio.playAsync();\n\n        } catch (e) {\n            console.log(\"[RadioPlayer] Loading '\" + uri + \"' has failed with \" + e);\n            bResult = false;\n        }\n\n        return bResult;\n    }\n\n    async stop() {\n        await this._audio.unloadAsync();\n    }\n\n    async getStatus() {\n        return await this._audio.getStatusAsync();\n    }\n\n    static instance = RadioPlayer.instance || RadioPlayer._createInstance();\n}\n\nexport default RadioPlayer;\n"],"mappings":";;;AAAA,SAASA,KAAT,QAAsB,SAAtB;;IAEMC,W;;;;;;;WASF;MAAA;MAAA;QAAA;UAAA;YAAA;cAAaC,GAAb,QAAaA,GAAb;cACIC,OAAO,GAAG,IAAV;cADJ;cAAA;cAAA,iCAKc,KAAKC,MAAL,CAAYC,SAAZ,CACF;gBAAEH,GAAG,EAAEA;cAAP,CADE,CALd;;YAAA;cAAA;cAAA,iCASc,KAAKE,MAAL,CAAYE,SAAZ,EATd;;YAAA;cAAA;cAAA;;YAAA;cAAA;cAAA;cAYQC,OAAO,CAACC,GAAR,CAAY,4BAA4BN,GAA5B,GAAkC,oBAAlC,cAAZ;cACAC,OAAO,GAAG,KAAV;;YAbR;cAAA,iCAgBWA,OAhBX;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;;;WAmBA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,iCACU,KAAKC,MAAL,CAAYK,WAAZ,EADV;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;;;WAIA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,iCACiB,KAAKL,MAAL,CAAYM,cAAZ,EADjB;;YAAA;cAAA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;;;WA9BA,2BAAyB;MACrBC,QAAQ,GAAG,IAAIV,WAAJ,EAAX;MACAU,QAAQ,CAACP,MAAT,GAAkB,IAAIJ,KAAK,CAACY,KAAV,EAAlB;MAEA,OAAOD,QAAP;IACH;;;;;;AAPCV,W,CAoCKU,Q,GAAWV,WAAW,CAACU,QAAZ,IAAwBV,WAAW,CAACY,eAAZ,E;AAG9C,eAAeZ,WAAf"},"metadata":{},"sourceType":"module"}