{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Text, TouchableRipple, useTheme } from 'react-native-paper';\nimport { useMemo } from 'react';\nimport Color from 'color';\nimport { useSwitchColors } from \"./timeUtils\";\nimport { DisplayModeContext } from \"./TimePicker\";\nexport default function AmPmSwitcher(_ref) {\n  var onChange = _ref.onChange,\n      hours = _ref.hours;\n\n  var _React$useContext = React.useContext(DisplayModeContext),\n      setMode = _React$useContext.setMode,\n      mode = _React$useContext.mode;\n\n  var theme = useTheme();\n  var backgroundColor = useMemo(function () {\n    if (theme.dark) {\n      return Color(theme.colors.surface).lighten(1.2).hex();\n    }\n\n    return Color(theme.colors.surface).darken(0.1).hex();\n  }, [theme]);\n  var isAM = mode === 'AM';\n  return React.createElement(View, {\n    style: [styles.root, {\n      borderColor: backgroundColor,\n      borderRadius: theme.roundness\n    }]\n  }, React.createElement(SwitchButton, {\n    label: \"AM\",\n    onPress: function onPress() {\n      setMode('AM');\n\n      if (hours - 12 >= 0) {\n        onChange(hours - 12);\n      }\n    },\n    selected: isAM,\n    disabled: isAM\n  }), React.createElement(View, {\n    style: [styles.switchSeparator, {\n      backgroundColor: backgroundColor\n    }]\n  }), React.createElement(SwitchButton, {\n    label: \"PM\",\n    onPress: function onPress() {\n      setMode('PM');\n\n      if (hours + 12 <= 24) {\n        onChange(hours + 12);\n      }\n    },\n    selected: !isAM,\n    disabled: !isAM\n  }));\n}\n\nfunction SwitchButton(_ref2) {\n  var label = _ref2.label,\n      onPress = _ref2.onPress,\n      selected = _ref2.selected,\n      disabled = _ref2.disabled;\n  var theme = useTheme();\n\n  var _useSwitchColors = useSwitchColors(selected),\n      backgroundColor = _useSwitchColors.backgroundColor,\n      color = _useSwitchColors.color;\n\n  return React.createElement(TouchableRipple, {\n    onPress: onPress,\n    style: styles.switchButton,\n    accessibilityLabel: label,\n    accessibilityTraits: disabled ? ['button', 'disabled'] : 'button',\n    accessibilityComponentType: \"button\",\n    accessibilityRole: \"button\",\n    accessibilityState: {\n      disabled: disabled\n    },\n    disabled: disabled\n  }, React.createElement(View, {\n    style: [styles.switchButtonInner, {\n      backgroundColor: backgroundColor\n    }]\n  }, React.createElement(Text, {\n    selectable: false,\n    style: [_objectSpread(_objectSpread({}, theme.fonts.medium), {}, {\n      color: color\n    })]\n  }, label)));\n}\n\nvar styles = StyleSheet.create({\n  root: {\n    width: 50,\n    height: 80,\n    borderWidth: 1,\n    overflow: 'hidden'\n  },\n  switchSeparator: {\n    height: 1,\n    width: 48\n  },\n  switchButton: {\n    flex: 1\n  },\n  switchButtonInner: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["AmPmSwitcher.tsx"],"names":["hours","mode","React","theme","useTheme","backgroundColor","useMemo","Color","isAM","styles","borderColor","borderRadius","roundness","setMode","onChange","disabled","color","useSwitchColors","root","width","height","borderWidth","overflow","switchSeparator","switchButton","flex","switchButtonInner","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport { View, StyleSheet } from 'react-native'\nimport { Text, TouchableRipple, useTheme } from 'react-native-paper'\nimport { useMemo } from 'react'\nimport Color from 'color'\nimport { useSwitchColors } from './timeUtils'\nimport { DisplayModeContext } from './TimePicker'\n\nexport default function AmPmSwitcher({\n  onChange,\n  hours,\n}: {\n  hours: number\n  onChange: (newHours: number) => any\n}) {\n  const { setMode, mode } = React.useContext(DisplayModeContext)\n  const theme = useTheme()\n  const backgroundColor = useMemo<string>(() => {\n    if (theme.dark) {\n      return Color(theme.colors.surface).lighten(1.2).hex()\n    }\n    return Color(theme.colors.surface).darken(0.1).hex()\n  }, [theme])\n\n  const isAM = mode === 'AM'\n  return (\n    <View\n      style={[\n        styles.root,\n        {\n          borderColor: backgroundColor,\n          borderRadius: theme.roundness,\n        },\n      ]}\n    >\n      <SwitchButton\n        label=\"AM\"\n        onPress={() => {\n          setMode('AM')\n          if (hours - 12 >= 0) {\n            onChange(hours - 12)\n          }\n        }}\n        selected={isAM}\n        disabled={isAM}\n      />\n      <View style={[styles.switchSeparator, { backgroundColor }]} />\n      <SwitchButton\n        label=\"PM\"\n        onPress={() => {\n          setMode('PM')\n          if (hours + 12 <= 24) {\n            onChange(hours + 12)\n          }\n        }}\n        selected={!isAM}\n        disabled={!isAM}\n      />\n    </View>\n  )\n}\n\nfunction SwitchButton({\n  label,\n  onPress,\n  selected,\n  disabled,\n}: {\n  label: string\n  onPress: (() => any) | undefined\n  selected: boolean\n  disabled: boolean\n}) {\n  const theme = useTheme()\n  const { backgroundColor, color } = useSwitchColors(selected)\n\n  return (\n    <TouchableRipple\n      onPress={onPress}\n      style={styles.switchButton}\n      accessibilityLabel={label}\n      // @ts-ignore old React Native versions\n      accessibilityTraits={disabled ? ['button', 'disabled'] : 'button'}\n      // @ts-ignore old React Native versions\n      accessibilityComponentType=\"button\"\n      accessibilityRole=\"button\"\n      accessibilityState={{ disabled }}\n      disabled={disabled}\n    >\n      <View style={[styles.switchButtonInner, { backgroundColor }]}>\n        <Text\n          selectable={false}\n          style={[\n            {\n              ...theme.fonts.medium,\n              color: color,\n            },\n          ]}\n        >\n          {label}\n        </Text>\n      </View>\n    </TouchableRipple>\n  )\n}\n\nconst styles = StyleSheet.create({\n  root: {\n    width: 50,\n    height: 80,\n    borderWidth: 1,\n    overflow: 'hidden',\n  },\n  switchSeparator: {\n    height: 1,\n    width: 48,\n  },\n  switchButton: {\n    flex: 1,\n  },\n  switchButtonInner: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n})\n"]},"metadata":{},"sourceType":"module"}