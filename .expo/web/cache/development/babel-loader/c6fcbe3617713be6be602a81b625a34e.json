{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Appbar, IconButton } from 'react-native-paper';\nimport AlarmEntry from \"../components/AlarmEntry\";\nimport AlarmManager from \"../framework/AlarmManager\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar HomeScreen = function (_React$Component) {\n  _inherits(HomeScreen, _React$Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen() {\n    var _this;\n\n    _classCallCheck(this, HomeScreen);\n\n    _this = _super.call(this);\n    _this.state = {\n      alarmManager: AlarmManager.instance\n    };\n\n    _this.state.alarmManager.load({\n      onLoadedCb: function onLoadedCb(bResult) {\n        _this.setState(_this.state);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(HomeScreen, [{\n    key: \"_onAddAlarmPressed\",\n    value: function _onAddAlarmPressed() {\n      this.props.navigation.navigate(\"Add\");\n    }\n  }, {\n    key: \"_onAlarmRemove\",\n    value: function _onAlarmRemove(_ref) {\n      var id = _ref.id;\n      this.state.alarmManager.removeAlarm({\n        id: id\n      });\n      this.setState(this.state);\n    }\n  }, {\n    key: \"_onAlarmStatusChange\",\n    value: function _onAlarmStatusChange(_ref2) {\n      var id = _ref2.id;\n      this.state.alarmManager.save();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.route.params && this.props.route.params.newAlarm != null) {\n        this.state.alarmManager.addAlarm({\n          alarm: this.props.route.params.newAlarm\n        });\n        this.props.route.params.newAlarm = null;\n        this.setState(this.state);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _jsxs(LinearGradient, {\n        style: style.background,\n        colors: ['#333333', '#181818'],\n        children: [_jsxs(View, {\n          style: {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 80\n          },\n          children: [_jsxs(Appbar.Header, {\n            style: {\n              backgroundColor: '#333333'\n            },\n            children: [_jsx(Appbar.Action, {\n              color: \"#ea5515\",\n              icon: \"alarm-check\"\n            }), _jsx(Appbar.Content, {\n              color: \"#ea5515\",\n              title: \"\\u0411\\u0443\\u0434\\u0438\\u043B\\u044C\\u043D\\u0438\\u043A\\u0438\"\n            })]\n          }), _jsx(ScrollView, {\n            style: style.scrollView,\n            children: this.state.alarmManager.getAlarms().map(function (alarm, i) {\n              return _jsx(AlarmEntry, {\n                id: i,\n                alarm: alarm,\n                theme: {\n                  color: '#fff'\n                },\n                onAlarmRemove: _this2._onAlarmRemove.bind(_this2),\n                onAlarmStatusChange: _this2._onAlarmStatusChange.bind(_this2)\n              }, i);\n            })\n          })]\n        }), _jsx(View, {\n          style: {\n            position: 'absolute',\n            height: 70,\n            width: 70,\n            right: 40,\n            bottom: 40\n          },\n          children: _jsx(IconButton, {\n            icon: \"bell-plus\",\n            color: \"#ea5515\",\n            size: 70,\n            onPress: this._onAddAlarmPressed.bind(this)\n          })\n        })]\n      });\n    }\n  }]);\n\n  return HomeScreen;\n}(React.Component);\n\nvar style = StyleSheet.create({\n  background: {\n    flex: 1\n  },\n  scrollView: {\n    padding: 20\n  }\n});\nexport default HomeScreen;","map":{"version":3,"names":["React","Appbar","IconButton","AlarmEntry","AlarmManager","LinearGradient","HomeScreen","state","alarmManager","instance","load","onLoadedCb","bResult","setState","props","navigation","navigate","id","removeAlarm","save","route","params","newAlarm","addAlarm","alarm","style","background","position","top","left","right","bottom","backgroundColor","scrollView","getAlarms","map","i","color","_onAlarmRemove","bind","_onAlarmStatusChange","height","width","_onAddAlarmPressed","Component","StyleSheet","create","flex","padding"],"sources":["C:/Users/lera-/OneDrive/Рабочий стол/Alarm/screens/HomeScreen.js"],"sourcesContent":["import * as React from 'react';\nimport { StyleSheet, View, ScrollView, Button } from 'react-native';\nimport { Appbar, IconButton } from 'react-native-paper';\nimport AlarmEntry from '../components/AlarmEntry';\nimport AlarmManager from '../framework/AlarmManager';\nimport { LinearGradient } from \"expo-linear-gradient\";\n\n\nclass HomeScreen extends React.Component {\n\n    constructor() {\n        super();\n\n        this.state.alarmManager.load({\n            onLoadedCb: (bResult) => {\n                this.setState(this.state);\n            }\n        });\n    }\n\n    state = {\n        alarmManager: AlarmManager.instance\n    }\n\n    _onAddAlarmPressed() {\n        this.props.navigation.navigate(\"Add\");\n    }\n\n    _onAlarmRemove({ id }) {\n        this.state.alarmManager.removeAlarm({ id: id });\n        this.setState(this.state);\n    }\n\n    _onAlarmStatusChange({ id }) {\n        this.state.alarmManager.save();\n    }\n\n    componentDidUpdate() {\n        if (this.props.route.params && this.props.route.params.newAlarm != null) {\n            this.state.alarmManager.addAlarm({ alarm: this.props.route.params.newAlarm });\n            this.props.route.params.newAlarm = null;\n            this.setState(this.state);\n        }\n    }\n\n    render() {\n        return (\n            <LinearGradient\n                style = {style.background}\n                colors = {['#333333', '#181818']}\n            >\n                <View style = {{\n                        position: 'absolute',\n                        top: 0,\n                        left: 0,\n                        right: 0,\n                        bottom: 80,\n                    }}>\n                    <Appbar.Header style = {{backgroundColor: '#333333'}}>\n                        <Appbar.Action color = '#ea5515' icon = \"alarm-check\"/>\n                        <Appbar.Content color = '#ea5515' title = \"Будильники\" />\n                    </Appbar.Header>\n                    <ScrollView style = {style.scrollView}>\n                        {\n                            this.state.alarmManager.getAlarms().map (\n                                (alarm, i) => (\n                                    <AlarmEntry\n                                        key = {i}\n                                        id = {i}\n                                        alarm = {alarm}\n                                        theme = {{color: '#fff'}}\n                                        onAlarmRemove = {this._onAlarmRemove.bind(this)}\n                                        onAlarmStatusChange = {this._onAlarmStatusChange.bind(this)}\n                                    />\n                                )\n                            )\n                        }\n                    </ScrollView>\n                </View>\n                <View \n                    style = {{\n                        position: 'absolute',\n                        height: 70,\n                        width: 70,\n                        right: 40,\n                        bottom: 40,\n                    }}>\n                <IconButton \n                        icon = \"bell-plus\"\n                        color = \"#ea5515\"\n                        size = {70}\n                        onPress = {this._onAddAlarmPressed.bind(this)}\n                        />\n                </View>\n            </LinearGradient>\n        );\n    }\n}\n\nconst style = StyleSheet.create({\n    background: {flex: 1},\n    scrollView: {padding: 20},\n})\n\nexport default HomeScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module"}